// nums & colors

const SCALE = 10;
const PLAYER_HITBOX = 8;
const BULLET_HITBOX = 1.5;
const BULLET_DISTANCE = 30;
const BULLET_SPEED = 1;
const PLAYER_SPEED = 2; // origionally .75
const OBSTACLE_COLOR = "#286898";
const NORMAL_GAME_SPEED = 80;
const FAST_GAME_SPEED = 20;
const SHOT_DISTANCE = 8;
const SHOT_ROTATION_COUNT = 72;


// shapes

const OBSTACLES = [
    [0, 8, 160, 5],
    [0, 115, 160, 5],
    [0, 13, 4, 102],
    [156, 13, 4, 102],
    [76, 28, 8, 18],
    [76, 82, 8, 18],
    [44, 59, 16, 10],
    [100, 59, 16, 10],
    [20, 50, 8, 5],
    [20, 73, 8, 5],
    [24, 55, 4, 18],
    [132, 50, 8, 5],
    [132, 73, 8, 5],
    [132, 55, 4, 18]];


const NNE = [
    [0, 3, 8, 2],
    [4, 5, 3, 2],
    [1, 1, 2, 2],
    [3, 2, 2, 1],
    [5, 0, 1, 2],
    [2, 0, 1, 1],
    [7, 2, 1, 1],
    [1, 5, 1, 1],
    [5, 7, 1, 1]
]

const ESE = [
    [3, 0, 2, 8],
    [1, 4, 2, 3],
    [5, 1, 2, 2],
    [5, 3, 1, 2],
    [6, 5, 2, 1],
    [2, 1, 1, 1],
    [7, 2, 1, 1],
    [0, 5, 1, 1],
    [5, 7, 1, 1]
]

const SSW = [
    [0, 3, 8, 2],
    [1, 1, 3, 2],
    [5, 5, 2, 2],
    [3, 5, 2, 1],
    [2, 6, 1, 2],
    [2, 0, 1, 1],
    [6, 2, 1, 1],
    [0, 5, 1, 1],
    [5, 7, 1, 1]
]

const WNW = [
    [3, 0, 2, 8],
    [5, 1, 2, 3],
    [1, 5, 2, 2],
    [0, 2, 2, 1],
    [2, 3, 1, 2],
    [2, 0, 1, 1],
    [7, 2, 1, 1],
    [0, 5, 1, 1],
    [5, 6, 1, 1]
]

const ENE = [
    [3, 0, 2, 8],
    [1, 1, 2, 3],
    [5, 5, 2, 2],
    [6, 2, 2, 1],
    [5, 3, 1, 2],
    [5, 0, 1, 1],
    [0, 2, 1, 1],
    [7, 5, 1, 1],
    [2, 6, 1, 1]
]

const SSE = [
    [0, 3, 8, 2],
    [4, 1, 3, 2],
    [1, 5, 2, 2],
    [3, 5, 2, 1],
    [5, 6, 1, 2],
    [5, 0, 1, 1],
    [1, 2, 1, 1],
    [2, 7, 1, 1],
    [7, 5, 1, 1]
]

const WSW = [
    [3, 0, 2, 8],
    [5, 4, 2, 3],
    [1, 1, 2, 2],
    [2, 3, 1, 2],
    [0, 5, 2, 1],
    [5, 1, 1, 1],
    [0, 2, 1, 1],
    [2, 7, 1, 1],
    [7, 5, 1, 1]
]

const NNW = [
    [0, 3, 8, 2],
    [1, 5, 3, 2],
    [5, 1, 2, 2],
    [2, 0, 1, 2],
    [3, 2, 2, 1],
    [0, 2, 1, 1],
    [5, 0, 1, 1],
    [6, 5, 1, 1],
    [2, 7, 1, 1]
]

const E = [
    [0, 0, 6, 2],
    [0, 5, 6, 2],
    [2, 2, 3, 3],
    [5, 3, 3, 1]
]
const W = [
    [2, 0, 6, 2],
    [2, 5, 6, 2],
    [3, 2, 3, 3],
    [0, 3, 3, 1]
]
const S = [
    [0, 0, 2, 6],
    [5, 0, 2, 6],
    [2, 2, 3, 3],
    [3, 5, 1, 3]
]
const N = [
    [0, 2, 2, 6],
    [5, 2, 2, 6],
    [2, 3, 3, 3],
    [3, 0, 1, 3]
]
const NE = [
    [3, 3, 5, 2],
    [3, 0, 2, 3],
    [1, 2, 2, 2],
    [4, 5, 2, 2],
    [0, 4, 2, 1],
    [3, 6, 1, 2],
    [2, 1, 1, 1],
    [0, 3, 1, 1],
    [5, 2, 1, 1],
    [6, 1, 1, 1],
    [7, 0, 1, 1],
    [6, 5, 1, 1],
    [4, 7, 1, 1]
]
const NW = [
    [3, 0, 2, 5],
    [0, 3, 3, 2],
    [2, 5, 2, 2],
    [5, 2, 2, 2],
    [6, 4, 2, 1],
    [4, 6, 1, 2],
    [0, 0, 1, 1],
    [1, 1, 1, 1],
    [2, 2, 1, 1],
    [5, 1, 1, 1],
    [7, 3, 1, 1],
    [1, 5, 1, 1],
    [3, 7, 1, 1]
]
const SW = [
    [0, 3, 5, 2],
    [3, 5, 2, 3],
    [2, 1, 2, 2],
    [5, 4, 2, 2],
    [4, 0, 1, 2],
    [6, 3, 2, 1],
    [3, 0, 1, 1],
    [1, 2, 1, 1],
    [7, 4, 1, 1],
    [5, 6, 1, 1],
    [0, 7, 1, 1],
    [1, 6, 1, 1],
    [2, 5, 1, 1]
]
const SE = [
    [3, 3, 2, 5],
    [5, 3, 3, 2],
    [4, 1, 2, 2],
    [1, 4, 2, 2],
    [3, 0, 1, 2],
    [0, 3, 2, 1],
    [4, 0, 1, 1],
    [6, 2, 1, 1],
    [0, 4, 1, 1],
    [2, 6, 1, 1],
    [5, 5, 1, 1],
    [6, 6, 1, 1],
    [7, 7, 1, 1]]


// bullet positions
const BULLET_COORDS = new Map([
    [N, [3, 0]],
    [NNW, [2, 0]],
    [NW, [0, 0]],
    [WNW, [0, 2]],
    [W, [0, 3]],
    [WSW, [0, 5]],
    [SW, [0, 7]],
    [SSW, [2, 7]],
    [S, [3, 7]],
    [SSE, [5, 7]],
    [SE, [7, 7]],
    [ESE, [7, 5]],
    [E, [7, 3]],
    [ENE, [7, 2]],
    [NE, [7, 0]],
    [NNE, [5, 0]]
]);


// rotation
const ROTATE_LEFT_MAP = new Map([
    [N, NNW],
    [NNW, NW],
    [NW, WNW],
    [WNW, W],
    [W, WSW],
    [WSW, SW],
    [SW, SSW],
    [SSW, S],
    [S, SSE],
    [SSE, SE],
    [SE, ESE],
    [ESE, E],
    [E, ENE],
    [ENE, NE],
    [NE, NNE],
    [NNE, N]
]);

const ROTATE_RIGHT_MAP = new Map([
    [N, NNE],
    [NNE, NE],
    [NE, ENE],
    [ENE, E],
    [E, ESE],
    [ESE, SE],
    [SE, SSE],
    [SSE, S],
    [S, SSW],
    [SSW, SW],
    [SW, WSW],
    [WSW, W],
    [W, WNW],
    [WNW, NW],
    [NW, NNW],
    [NNW, N]
]);


const OPPOSITE_DIR_MAP = new Map([
    [N, S],
    [NNE, SSW],
    [NE, SW],
    [ENE, WSW],
    [E, W],
    [ESE, WNW],
    [SE, NW],
    [SSE, NNW],
    [S, N],
    [SSW, NNE],
    [SW, NE],
    [WSW, ENE],
    [W, E],
    [WNW, ESE],
    [NW, SE],
    [NNW, SSE]
]);

const DEGREE_MAP = new Map([
    [N, 0],
    [NNE, 22.5],
    [NE, 45],
    [ENE, 67.5],
    [E, 90],
    [ESE, 112.5],
    [SE, 135],
    [SSE, 157.5],
    [S, 180],
    [SSW, 202.5],
    [SW, 225],
    [WSW, 247.5],
    [W, 270],
    [WNW, 292.5],
    [NW, 315],
    [NNW, 337.5]
]);

const MOVE_X_MAP = new Map([
    [N, 0],
    [NNE, 0.45],
    [NE, 1],
    [ENE, 0.9],
    [E, 1],
    [ESE, 0.9],
    [SE, 1],
    [SSE, 0.45],
    [S, 0],
    [SSW, -0.45],
    [SW, -1],
    [WSW, -0.9],
    [W, -1],
    [WNW, -0.9],
    [NW, -1],
    [NNW, -0.45]
]);

const MOVE_Y_MAP = new Map([
    [N, -1],
    [NNE, -0.9],
    [NE, -1],
    [ENE, -0.45],
    [E, 0],
    [ESE, 0.45],
    [SE, 1],
    [SSE, 0.9],
    [S, 1],
    [SSW, 0.9],
    [SW, 1],
    [WSW, 0.45],
    [W, 0],
    [WNW, -0.45],
    [NW, -1],
    [NNW, -0.9]
]);
